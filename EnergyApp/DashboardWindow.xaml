<Window x:Class="EnergyApp.DashboardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Title="Учёт электроэнергии"
        Height="720" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#F5F6FA">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Верхняя панель -->
            <RowDefinition Height="Auto"/>
            <!-- Панель фильтров -->
            <RowDefinition Height="*"/>
            <!-- Таблица -->
            <RowDefinition Height="Auto"/>
            <!-- Нижняя панель с итогом -->
        </Grid.RowDefinitions>

        <!-- Верхняя панель -->
        <Border Background="#2C3E50" CornerRadius="8" Padding="10" Margin="0,0,0,10">
            <DockPanel>
                <Image Source="Assets/logo.png" Width="32" Height="32" Margin="0,0,10,0"/>
                <TextBlock Text="Учёт электроэнергии на предприятии"
                           FontSize="18" Foreground="White"
                           VerticalAlignment="Center"/>
                <DockPanel DockPanel.Dock="Right">
                    <TextBlock Text="Цена за 1 кВт⋅ч:" Foreground="White" Margin="0,0,8,0" VerticalAlignment="Center"/>
                    <TextBox x:Name="PricePerKwTextBox"
                             Width="80"
                             VerticalAlignment="Center"
                             TextAlignment="Center"
                             Text="5.00"/>
                    <Button Content="Настройки" Width="100" Height="30" Margin="10,0,0,0"/>
                </DockPanel>
            </DockPanel>
        </Border>

        <!-- Панель фильтров -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
            <TextBlock Text="Дата с:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <DatePicker x:Name="StartDatePicker" Width="150" DisplayDateEnd="{x:Static sys:DateTime.Today}"/>

            <TextBlock Text="по:" VerticalAlignment="Center" Margin="10,0,5,0"/>
            <DatePicker x:Name="EndDatePicker" Width="150" DisplayDateEnd="{x:Static sys:DateTime.Today}"/>

            <Button Content="Применить фильтр" Width="150" Margin="20,0,0,0"/>
            <Button Content="Сброс" Width="100" Margin="10,0,0,0"/>
        </StackPanel>

        <!-- Таблица -->
        <DataGrid x:Name="EnergyDataGrid"
                  Grid.Row="2"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  HeadersVisibility="Column"
                  Margin="0,0,0,10"
                  AlternatingRowBackground="#ECF0F1"
                  RowBackground="White"
                  BorderBrush="#BDC3C7" BorderThickness="1">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Дата" Binding="{Binding Date}" Width="*" />
                <DataGridTextColumn Header="Расход (кВт⋅ч)" Binding="{Binding Consumption}" Width="*" />
                <DataGridTextColumn Header="Стоимость (₽)" Binding="{Binding Cost}" Width="*" />
                <DataGridTextColumn Header="Комментарий" Binding="{Binding Comment}" Width="2*" />
            </DataGrid.Columns>
        </DataGrid>

        <!-- Нижняя панель -->
        <Grid Grid.Row="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock x:Name="SummaryText"
                       Text="Итого: 0 кВт⋅ч | 0 ₽"
                       FontSize="16" FontWeight="Bold"
                       VerticalAlignment="Center"/>

            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <Button Content="Добавить запись" Width="150" Margin="10,0,0,0" Click="AddRecordButton_Click"/>
                <Button Content="Удалить выбранную" Width="170" Margin="10,0,0,0"/>
                <Button Content="Экспорт в PDF" Width="150" Margin="10,0,0,0"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>